{% load static %}
<!doctype html>
<html lang="ar" dir="rtl" class="scroll-smooth">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#2563eb">
  <meta name="color-scheme" content="light dark">

  <title>منصة توثــيق | مستقبل التوثيق المدرسي 2026</title>
  <meta name="description" content="الحل الرقمي المتكامل لإدارة المدارس الذكية. تقارير مصوّرة، تذاكر صيانة، وملفات إنجاز إلكترونية في منصة واحدة تغنيك عن الورق تماماً.">
  <meta name="keywords" content="منصة مدارس, تقارير مدرسية, تذاكر صيانة, ملف إنجاز, تعليم إلكتروني, السعودية, 2026">

  <link rel="canonical" href="{{ request.build_absolute_uri }}">
  <link rel="manifest" href="{% static 'manifest.json' %}">
  <link rel="icon" href="{% static 'img/logo1.png' %}">
  <link rel="apple-touch-icon" href="{% static 'img/logo1.png' %}">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <style>
    /* =========================================
       LUXURY & PROFESSIONAL THEME (2026)
       ========================================= */
    :root {
      /* Brand Palette - Deep Royal Blue */
      --brand: #2563eb;
      --brand-dark: #0f368e;
      --brand-light: #eff6ff;
      --accent: #d97706; /* Golden/Bronze for luxury feel */

      /* Compatibility aliases (used by existing JS/snippets) */
      --primary: var(--brand);
      --primary-dark: var(--brand-dark);
      --text-muted: var(--text-light);
      --surface-1: var(--surface);

      /* Neutrals */
      --bg: #ffffff;
      --surface: #f8fafc;
      --surface-glass: rgba(255, 255, 255, 0.85);
      
      --text-main: #0f172a;
      --text-secondary: #475569;
      --text-light: #94a3b8;

      /* Borders & Shadows */
      --border: #e2e8f0;
      --border-glass: rgba(255, 255, 255, 0.6);
      
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.025);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.05), 0 10px 10px -5px rgba(0, 0, 0, 0.02);
      --shadow-glow: 0 0 40px rgba(37, 99, 235, 0.15);

      --container: 1280px;
      --nav-height: 90px;
      --radius: 20px;
    }

    html { scroll-behavior: smooth; font-size: 16px; }
    
    body {
      margin: 0;
      font-family: 'Tajawal', sans-serif;
      background: #f8fafc;
      background-image: 
        radial-gradient(at 0% 0%, rgba(37,99,235,0.08) 0px, transparent 50%),
        radial-gradient(at 100% 0%, rgba(217,119,6,0.05) 0px, transparent 50%);
      background-attachment: fixed;
      color: var(--text-main);
      line-height: 1.7;
      overflow-x: hidden;
    }

    /* Reset & Utils */
    *, *::before, *::after { box-sizing: border-box; }
    a { text-decoration: none; color: inherit; transition: all 0.3s ease; }
    img { max-width: 100%; height: auto; display: block; }
    button { background: none; border: none; cursor: pointer; font-family: inherit; }
    ul { list-style: none; padding: 0; margin: 0; }

    .container { width: 90%; max-width: var(--container); margin: 0 auto; }
    .grid { display: grid; gap: 30px; }
    .flex { display: flex; }
    .gap-2 { gap: 12px; }
    .flex-1 { flex: 1 1 0%; }
    .items-center { align-items: center; }
    .justify-between { justify-content: space-between; }
    .justify-center { justify-content: center; }
    .text-center { text-align: center; }
    .relative { position: relative; }
    
    /* Typography */
    h1, h2, h3, h4 { margin: 0; font-weight: 800; line-height: 1.25; color: var(--text-main); }
    h1 { font-size: 3.5rem; letter-spacing: -1px; }
    h2 { font-size: 2.5rem; letter-spacing: -0.5px; }
    h3 { font-size: 1.5rem; }
    p { margin-top: 10px; color: var(--text-secondary); }

    .text-gradient {
      background: linear-gradient(135deg, var(--brand), var(--brand-dark));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .text-accent { color: var(--accent); }

    /* Buttons */
    .btn {
      display: inline-flex; align-items: center; justify-content: center; gap: 10px;
      padding: 16px 32px; border-radius: 12px; font-weight: 700; font-size: 1rem;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .btn-primary {
      background: var(--brand);
      color: white;
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.25);
    }
    .btn-primary:hover {
      background: var(--brand-dark);
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(37, 99, 235, 0.35);
    }
    .btn-outline {
      background: white;
      border: 1px solid var(--border);
      color: var(--text-main);
    }
    .btn-outline:hover {
      border-color: var(--brand);
      color: var(--brand);
      background: var(--brand-light);
    }
    .btn-glass {
      background: rgba(255,255,255,0.15);
      border: 1px solid rgba(255,255,255,0.3);
      backdrop-filter: blur(4px);
      color: white;
    }
    .btn-glass:hover { background: rgba(255,255,255,0.25); transform: translateY(-2px); }

    /* Glass Cards */
    .glass-card {
      background: white;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow-sm);
      transition: all 0.4s ease;
      overflow: hidden;
    }
    .glass-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-xl);
      border-color: rgba(37, 99, 235, 0.2);
    }

    /* Navbar */
    .navbar {
      height: var(--nav-height);
      position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(0,0,0,0.03);
      transition: all 0.3s;
    }
    .navbar.scrolled {
      height: 70px;
      box-shadow: var(--shadow-md);
      background: rgba(255, 255, 255, 0.95);
    }
    .logo {
      font-size: 1.4rem; font-weight: 800; display: flex; align-items: center; gap: 12px;
      color: var(--text-main);
    }
    .logo img { height: 45px; width: auto; }
    .nav-links { gap: 40px; }
    .nav-links a { font-weight: 700; font-size: 0.95rem; color: var(--text-secondary); }
    .nav-links a:hover { color: var(--brand); }
    
    .mobile-toggle { display: none; font-size: 1.5rem; color: var(--text-main); }
    .mobile-menu {
      position: fixed; inset: 0; background: white; z-index: 1200;
      transform: translateX(100%); transition: transform 0.3s ease;
      padding: calc(100px + env(safe-area-inset-top)) 30px calc(24px + env(safe-area-inset-bottom));
      display: flex; flex-direction: column; gap: 20px;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }
    .mobile-menu.open { transform: translateX(0); }
    .mobile-link { font-size: 1.5rem; font-weight: 800; border-bottom: 1px solid var(--border); padding-bottom: 15px; }

    /* Sections */
    section { padding: 100px 0; }
    .section-header { text-align: center; max-width: 700px; margin: 0 auto 80px; }
    .section-header h2 { margin-bottom: 20px; }
    .badge {
      display: inline-block; padding: 6px 16px; background: var(--brand-light); color: var(--brand);
      border-radius: 50px; font-size: 0.85rem; font-weight: 700; margin-bottom: 20px;
    }

    /* Hero */
    .hero { padding: 160px 0 100px; position: relative; overflow: hidden; }
    .hero-bg-anim {
      position: absolute; width: 600px; height: 600px; background: var(--brand); opacity: 0.05;
      filter: blur(80px); border-radius: 50%; top: -200px; right: -200px; z-index: -1;
      animation: float 10s infinite alternate;
    }
    @keyframes float { 0% { transform: translate(0,0); } 100% { transform: translate(-50px, 50px); } }

    /* Bento Grid */
    .bento-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
    }
    .bento-card { padding: 40px; display: flex; flex-direction: column; justify-content: space-between; height: 100%; }
    .bento-card--wide { grid-column: span 2; }
    .bento-icon {
      width: 60px; height: 60px; border-radius: 16px; background: var(--surface);
      display: grid; place-items: center; font-size: 1.5rem; color: var(--brand); margin-bottom: 25px;
    }

    /* Detailed feature list */
    .feature-list {
      margin-top: 30px;
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 16px;
    }
    .feature-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 16px 18px;
      border-radius: 16px;
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid var(--border);
      box-shadow: var(--shadow-sm);
    }
    .feature-item i { color: var(--brand); margin-top: 3px; }
    .feature-item strong { display: block; font-weight: 900; color: var(--text-main); }
    .feature-item span { display: block; color: var(--text-secondary); font-weight: 600; font-size: 0.95rem; margin-top: 4px; }

    /* Pricing */
    .pricing-card { padding: 40px; text-align: center; border-radius: 24px; position: relative; }
    .pricing-card.featured {
      border: 2px solid var(--brand);
      box-shadow: var(--shadow-xl);
      background: linear-gradient(180deg, rgba(37,99,235,0.06), rgba(255,255,255,0.0));
    }
    .price-tag { font-size: 3rem; font-weight: 800; color: var(--text-main); margin: 20px 0; }
    .price-tag span { font-size: 1rem; color: var(--text-secondary); font-weight: 500; }
    .features-list li { margin-bottom: 15px; display: flex; align-items: center; justify-content: center; gap: 10px; color: var(--text-secondary); font-weight: 600; }
    .features-list i { color: var(--brand); }

    /* Pricing toggle (segmented control) */
    .pricing-toggle {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px;
      border-radius: 999px;
      background: rgba(255,255,255,0.9);
      border: 1px solid var(--border);
      box-shadow: var(--shadow-md);
      backdrop-filter: blur(6px);
      width: fit-content;
    }
    .btn-toggle {
      padding: 12px 22px;
      border-radius: 999px;
      font-weight: 900;
      color: var(--text-secondary);
      transition: transform 0.2s ease, background 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
      white-space: nowrap;
    }
    .btn-toggle:hover { transform: translateY(-1px); color: var(--text-main); }
    .btn-toggle.is-active {
      background: var(--brand);
      color: #fff;
      box-shadow: 0 10px 24px rgba(37, 99, 235, 0.25);
    }
    .toggle-badge {
      font-size: 0.75em;
      background: #dcfce7;
      color: #15803d;
      padding: 2px 8px;
      border-radius: 10px;
      margin-right: 8px;
      font-weight: 900;
    }

    /* Modal (Order) */
    .modal-overlay {
      position: fixed;
      inset: 0;
      display: none;
      place-items: center;
      padding: 18px;
      background: rgba(15, 23, 42, 0.60);
      backdrop-filter: blur(6px);
      z-index: 3000;
    }
    .modal-overlay.open { display: grid; }
    .modal-content {
      width: 100%;
      max-width: 620px;
      padding: 28px;
      position: relative;
    }
    .modal-content.glass-card:hover { transform: none; }
    .modal-close {
      position: absolute;
      top: 16px;
      left: 16px;
      width: 44px;
      height: 44px;
      border-radius: 14px;
      display: grid;
      place-items: center;
      background: rgba(255,255,255,0.85);
      border: 1px solid var(--border);
      color: var(--text-main);
      box-shadow: var(--shadow-sm);
    }
    .modal-close:hover { background: #fff; box-shadow: var(--shadow-md); }
    .form-group { margin-bottom: 16px; text-align: right; }
    .form-group label { display: block; font-weight: 900; color: var(--text-main); margin-bottom: 8px; }
    input, select {
      width: 100%;
      padding: 14px 16px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: #fff;
      color: var(--text-main);
      font-weight: 700;
      outline: none;
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }
    input:focus, select:focus {
      border-color: rgba(37, 99, 235, 0.45);
      box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.12);
    }

    /* Luxury Form Styles (Modern 2026 Compact) */
    .luxury-input-group {
      position: relative;
      margin-bottom: 16px; /* Reduced from 20px */
    }
    .luxury-input-group label {
      display: block;
      margin-bottom: 6px;
      font-weight: 700;
      color: var(--text-secondary); /* Softer label */
      font-size: 0.85rem;
    }
    .luxury-input-wrapper {
      position: relative;
    }
    .luxury-input {
      width: 100%;
      padding: 12px 45px 12px 16px; /* Reduced padding */
      background: #f1f5f9; /* Softer background */
      border: 1px solid transparent;
      border-radius: 12px;
      font-size: 0.95rem;
      font-weight: 700;
      color: var(--text-main);
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: none;
    }
    .luxury-input:focus {
      background: white;
      border-color: var(--brand);
      box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
      transform: translateY(-1px);
    }
    .luxury-icon {
      position: absolute;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      color: #94a3b8;
      font-size: 1.1rem;
      transition: color 0.3s ease;
      pointer-events: none;
      z-index: 2;
    }
    .luxury-input:focus + .luxury-icon,
    .luxury-input:not(:placeholder-shown) + .luxury-icon {
      color: var(--brand);
    }
    
    .luxury-modal-header {
      text-align: center;
      margin-bottom: 24px;
    }
    .luxury-modal-header h3 {
      font-size: 1.6rem;
      background: linear-gradient(135deg, var(--text-main), var(--brand));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 4px;
    }
    .luxury-modal-header p {
        font-size: 0.9rem;
        color: var(--text-secondary);
    }

    /* Ticket Style for Selected Plan */
    .plan-ticket {
      background: white;
      border: 1px dashed var(--brand);
      border-radius: 16px;
      padding: 16px;
      margin-bottom: 24px;
      position: relative;
      background-image: radial-gradient(circle at 100% 0%, rgba(37,99,235,0.05) 0%, transparent 50%);
    }
    .plan-ticket::before, .plan-ticket::after {
      content: ''; position: absolute; top: 50%; transform: translateY(-50%);
      width: 16px; height: 16px; background: white; border-radius: 50%;
      border: 1px solid var(--border);
      display: none; /* Can be complex to align with modal bg */
    }

    .luxury-submit-btn {
      width: 100%;
      padding: 16px;
      background: var(--brand);
      color: white;
      border-radius: 14px;
      font-size: 1rem;
      font-weight: 800;
      letter-spacing: 0px;
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
      transition: all 0.2s ease;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin-top: 20px;
      border: none;
      position: relative;
      overflow: hidden;
    }
    .luxury-submit-btn:hover {
      background: var(--brand-dark);
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(37, 99, 235, 0.4);
    }

    /* Footer */
    footer { background: #0f172a; color: white; padding: 80px 0 40px; margin-top: 50px; }
    footer a { color: #94a3b8; }
    footer a:hover { color: white; }

    /* Responsive */
    @media (max-width: 1024px) {
      .bento-grid { grid-template-columns: repeat(2, 1fr); }
      .feature-list { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      h1 { font-size: 2.8rem; }
    }

    /* Floating Login Button for Mobile - Luxury Style */
    .floating-login-btn {
      display: none; /* Hidden by default on desktop */
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 999;
      background: linear-gradient(135deg, var(--brand), var(--brand-dark));
      color: white;
      width: 56px;
      height: 56px;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(37, 99, 235, 0.4), 0 0 0 0 rgba(37, 99, 235, 0.3);
      place-items: center;
      font-size: 1.3rem;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      animation: floatPulse 3s ease-in-out infinite;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.3);
      overflow: hidden;
    }
    
    .floating-login-btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.2) 50%, transparent 70%);
      transform: translateX(-100%);
      transition: transform 0.6s;
    }
    
    .floating-login-btn:hover::before {
      transform: translateX(100%);
    }
    
    .floating-login-btn:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 12px 32px rgba(37, 99, 235, 0.5), 0 0 0 8px rgba(37, 99, 235, 0.15);
      border-color: rgba(255, 255, 255, 0.5);
    }
    
    .floating-login-btn:active {
      transform: translateY(-1px) scale(0.98);
    }
    
    .floating-login-btn i {
      position: relative;
      z-index: 1;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
    }
    
    /* Premium Badge on floating button */
    .floating-login-badge {
      position: absolute;
      top: -6px;
      right: -6px;
      background: var(--accent);
      color: white;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: grid;
      place-items: center;
      font-size: 0.7rem;
      font-weight: 900;
      border: 3px solid white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      animation: bounce 2s ease-in-out infinite;
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-4px); }
    }
    
    @keyframes floatPulse {
      0%, 100% { 
        box-shadow: 0 8px 24px rgba(37, 99, 235, 0.4), 0 0 0 0 rgba(37, 99, 235, 0.3);
      }
      50% { 
        box-shadow: 0 8px 24px rgba(37, 99, 235, 0.4), 0 0 0 12px rgba(37, 99, 235, 0);
      }
    }
    
    /* Show only on mobile */
    @media (max-width: 768px) {
      .floating-login-btn {
        display: grid;
      }
      
      /* Adjust button position for notch devices */
      @supports (padding-top: env(safe-area-inset-top)) {
        .floating-login-btn {
          top: calc(20px + env(safe-area-inset-top));
        }
      }
      
      .navbar .nav-links { display: none; }
      .mobile-toggle { display: block; }
      
      /* Global Layout */
      .container { width: 92%; }
      section { padding: 60px 0; }
      
      /* Typography */
      h1 { font-size: 2.2rem; line-height: 1.3; }
      h2 { font-size: 1.75rem; }
      h3 { font-size: 1.3rem; }
      p { font-size: 1rem; }
      
      /* Hero Section */
      .hero { padding: 120px 0 60px; text-align: center; }
      .hero .grid { grid-template-columns: 1fr !important; gap: 40px !important; }
      .hero .btn-group { justify-content: center; }
      .hero .badge { margin: 0 auto 20px; }
      
      /* Hero Visual Mobile Fixes */
      .hero .relative[style*="perspective"] {
          perspective: none !important;
          padding: 0 !important;
          margin-top: 20px;
      }
      .hero .glass-card[style*="transform"] {
          transform: none !important;
          padding: 20px !important;
      }
      
      /* Luxury Grid & Features Mobile Overrides */
      .luxury-grid {
        grid-template-columns: 1fr !important;
        gap: 20px !important;
      }
      
      .feature-card {
        grid-column: span 1 !important;
        grid-row: auto !important; /* Reset any row spans */
        padding: 24px !important;
        flex-direction: column !important;
        align-items: flex-start !important;
      }
      
      .feature-card .icon-box {
        margin-bottom: 16px;
        width: 50px !important;
        height: 50px !important;
        font-size: 1.5rem !important;
      }
      
      .feature-card > div {
        width: 100%;
      }

      /* Prevent overflow from inline min-width on child blocks */
      .feature-card div[style*="min-width"] { min-width: 0 !important; }
      
      /* Reset specific card flex layouts */
      .feature-card[style*="align-items: center"] {
         align-items: flex-start !important;
      }

      /* Stats in admin card */
      .feature-card .stat-mini {
         flex: 1;
         justify-content: flex-start;
      }
      
      /* General Grid Reset */
      .grid { grid-template-columns: 1fr !important; }
      #pricing .grid { grid-template-columns: 1fr !important; }
      #how .grid { grid-template-columns: 1fr !important; gap: 30px !important; }
    }
    
    @media (max-width: 480px) {
      h1 { font-size: 1.8rem; }
      .btn { width: 100%; }
      .pricing-toggle { width: 100%; justify-content: space-between; }
      .btn-toggle { flex: 1; text-align: center; padding: 12px 10px; }
      
      /* Smaller floating button on very small screens */
      .floating-login-btn {
        width: 50px;
        height: 50px;
        font-size: 1.1rem;
        top: 15px;
        left: 15px;
      }
      
      .floating-login-badge {
        width: 18px;
        height: 18px;
        font-size: 0.6rem;
        top: -5px;
        right: -5px;
        border-width: 2px;
      }
    }
  </style>
</head>

<body>

  <!-- ================= Floating Login Button (Mobile Only) ================= -->
  <a href="{% url 'reports:login' %}" class="floating-login-btn" aria-label="تسجيل الدخول" title="تسجيل الدخول">
    <i class="fa-solid fa-right-to-bracket"></i>
    <span class="floating-login-badge">
      <i class="fa-solid fa-crown"></i>
    </span>
  </a>

  <!-- ================= NAV ================= -->
  <nav class="navbar" id="navbar" aria-label="القائمة الرئيسية">
    <div class="container flex items-center justify-between">
      <a href="#" class="logo">
        <img src="{% static 'img/logo1.png' %}" alt="Logo">
        <span>منصة توثيق</span>
      </a>

      <!-- Desktop Links -->
      <div class="nav-links flex items-center">
        <a href="#features">المميزات</a>
        <a href="#how">كيف نعمل</a>
        <a href="#pricing">الأسعار</a>
        <a href="{% url 'reports:login' %}" class="btn btn-primary" style="padding: 12px 28px;">
          <i class="fa-solid fa-right-to-bracket"></i> دخول
        </a>
      </div>

      <!-- Mobile Toggle -->
      <button class="mobile-toggle" id="mobileToggle" aria-label="فتح القائمة">
        <i class="fa-solid fa-bars-staggered"></i>
      </button>
    </div>
  </nav>

  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobileMenu" aria-hidden="true">
    <a href="#features" class="mobile-link">المميزات</a>
    <a href="#how" class="mobile-link">كيف نعمل</a>
    <a href="#pricing" class="mobile-link" style="margin-bottom: 40px;">الأسعار</a>

    <a href="{% url 'reports:login' %}" class="btn btn-primary" style="width: 100%;">
      <i class="fa-solid fa-right-to-bracket" aria-hidden="true"></i>
       تسجيل الدخول
    </a>

    <button id="closeMobile" aria-label="إغلاق القائمة" style="position: absolute; top: 30px; left: 30px; font-size: 2rem; color: var(--text-secondary);">
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>

  <!-- ================= HERO ================= -->
  <header class="hero">
    <div class="hero-bg-anim"></div>

    <div class="container grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); align-items: center;">

      <!-- Text -->
      <div>
        <div class="badge">
          <i class="fa-solid fa-star"></i> الخيار الأول للمدارس الذكية
        </div>

        <h1 style="margin-bottom: 24px;">
          إدارة مدرسية متكاملة<br>
          <span class="text-gradient">بلمسة واحدة</span>
        </h1>

        <p style="font-size: 1.2rem; margin-bottom: 40px; line-height: 1.8;">
           من التذاكر والصيانة إلى ملفات الإنجاز والتقارير و الاشعارات و التعاميم. <strong style="color:var(--brand)">منصة توثيق</strong> تجمع لك كل ما تحتاجه في مكان واحد، بتصميم فخم وسهل الاستخدام.
        </p>

        <div class="flex btn-group" style="gap: 16px; flex-wrap: wrap;">
          <a href="#pricing" class="btn btn-primary">
            ابدأ التجربة المجانية <i class="fa-solid fa-arrow-left"></i>
          </a>
          <a href="#features" class="btn btn-outline">
            تصفح المميزات
          </a>
        </div>
        
        <!-- زر تسجيل الدخول للمستخدمين الحاليين -->
        <div style="margin-top: 20px;">
          <a href="{% url 'reports:login' %}" class="btn btn-outline" style="display: inline-flex; align-items: center; gap: 10px; border-color: var(--brand); color: var(--brand);">
            <i class="fa-solid fa-right-to-bracket"></i>
            تسجيل الدخول للمستخدمين الحاليين
          </a>
        </div>
        
        <div style="margin-top: 40px; display: flex; gap: 30px; color: var(--text-secondary); font-weight: 700;">
           <span><i class="fa-solid fa-shield-halved" class="text-gradient"></i> بيانات آمنة</span>
        </div>
      </div>

      <!-- Visual -->
      <div class="relative" style="perspective: 1000px; padding: 20px;">
        <div class="glass-card" style="padding: 30px; transform: rotateY(-5deg) rotateX(2deg); box-shadow: var(--shadow-xl); background: rgba(255,255,255,0.9);">
          
          <!-- Header of Mock App -->
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; border-bottom:1px solid rgba(0,0,0,0.05); padding-bottom:15px;">
             <div style="font-weight:800; color:var(--text-main); font-size:1.1rem;"><i class="fa-solid fa-gauge-high" style="color:var(--brand);margin-left:8px;"></i>  نظرة عامة</div>
             <div style="font-size:0.75rem; background:#dcfce7; color:#15803d; padding:4px 10px; border-radius:8px; font-weight:700;">متصل الآن</div>
          </div>

          <!-- List of Modules -->
          <div style="display:grid; gap:12px;">
             
             <!-- Item 1: Reports -->
             <div class="flex items-center" style="background:white; padding:10px; border-radius:12px; box-shadow:var(--shadow-sm); border:1px solid rgba(0,0,0,0.03);">
                <div style="width:42px; height:42px; background:var(--brand-light); border-radius:10px; display:grid; place-items:center; color:var(--brand); font-size:1.1rem; margin-left:12px;">
                  <i class="fa-solid fa-camera"></i>
                </div>
                <div style="flex:1;">
                   <div style="font-weight:800; font-size:0.95rem;">التقارير المصوّرة</div>
                   <div style="font-size:0.8rem; color:var(--text-light);">طباعة PDF فورية</div>
                </div>
                <i class="fa-solid fa-circle-check" style="color:#10b981; font-size:1.2rem;"></i>
             </div>

             <!-- Item 2: Achievements -->
             <div class="flex items-center" style="background:white; padding:10px; border-radius:12px; box-shadow:var(--shadow-sm); border:1px solid rgba(0,0,0,0.03);">
                <div style="width:42px; height:42px; background:#fff7ed; border-radius:10px; display:grid; place-items:center; color:var(--accent); font-size:1.1rem; margin-left:12px;">
                   <i class="fa-solid fa-wand-magic-sparkles"></i>
                </div>
                <div style="flex:1;">
                   <div style="font-weight:800; font-size:0.95rem;">ملفات الإنجاز</div>
                   <div style="font-size:0.8rem; color:var(--text-light);">أرشفة وبناء تلقائي</div>
                </div>
                <span style="font-size:0.7rem; background:var(--brand); color:white; padding:2px 8px; border-radius:6px; font-weight:700;">جديد</span>
             </div>

             <!-- Item 3: Tickets -->
             <div class="flex items-center" style="background:white; padding:10px; border-radius:12px; box-shadow:var(--shadow-sm); border:1px solid rgba(0,0,0,0.03);">
                <div style="width:42px; height:42px; background:#f1f5f9; border-radius:10px; display:grid; place-items:center; color:#64748b; font-size:1.1rem; margin-left:12px;">
                   <i class="fa-solid fa-ticket"></i>
                </div>
                <div style="flex:1;">
                   <div style="font-weight:800; font-size:0.95rem;">التذاكر والطلبات</div>
                   <div style="font-size:0.8rem; color:var(--text-light);">مسارات إلكترونية</div>
                </div>
                <div style="font-size:0.8rem; font-weight:700; color:var(--brand);">قيد المعالجة</div>
             </div>

             <!-- Item 4: Circulars -->
             <div class="flex items-center" style="background:white; padding:10px; border-radius:12px; box-shadow:var(--shadow-sm); border:1px solid rgba(0,0,0,0.03);">
                <div style="width:42px; height:42px; background:#fef2f2; border-radius:10px; display:grid; place-items:center; color:#ef4444; font-size:1.1rem; margin-left:12px;">
                   <i class="fa-solid fa-file-signature"></i>
                </div>
                <div style="flex:1;">
                   <div style="font-weight:800; font-size:0.95rem;">التعاميم والتوقيع</div>
                   <div style="font-size:0.8rem; color:var(--text-light);">إحصائيات المشاهدة</div>
                </div>
                <div style="font-size:0.8rem; font-weight:700; color:#10b981;">مكتمل</div>
             </div>

          </div>

          <!-- Floating Badge -->
          <div style="position: absolute; bottom: 20px; left: -10px; background: var(--text-main); color: white; padding: 8px 16px; border-radius: 12px; font-weight: 700; box-shadow: var(--shadow-lg); font-size:0.9rem;">
            <i class="fa-solid fa-bolt" style="color: #fbbf24;"></i> شامل ومتكامل
          </div>

        </div>
      </div>

    </div>
  </header>

  <!-- ================= FEATURES GRID ================= -->
  <section id="features" style="background: linear-gradient(to bottom, #f8fafc, white); padding: 100px 0;">
    <div class="container">
      
      <div class="section-header" style="max-width: 800px; margin: 0 auto 60px;">
        <span class="badge">إمكانيات النظام</span>
        <h2 style="font-size: 2.2rem; margin-bottom: 20px;">تجربة رقمية متكاملة<br>تليق بمكانة مدرستك</h2>
        <p style="font-size: 1.1rem; color: var(--text-light);">جمعنا لك كل الأدوات التي تحتاجها للإدارة المدرسية والتوثيق في منصة واحدة، واجهة عصرية، وأداء فائق السرعة.</p>
      </div>

      <div class="luxury-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
        
        <!-- Feature 1: Reports (Large) -->
        <div class="glass-card feature-card" style="grid-column: span 2; background: white; padding: 40px; display: flex; align-items: flex-start; gap: 30px; position:relative; overflow:hidden;">
            <div style="position: absolute; top:0; left:0; width:100%; height:5px; background:linear-gradient(to right, var(--brand), var(--accent));"></div>
           <div class="icon-box" style="width: 70px; height: 70px; background: var(--brand-light); color: var(--brand); border-radius: 20px; font-size: 2rem; display: grid; place-items: center; flex-shrink: 0; box-shadow: var(--shadow-md);">
             <i class="fa-solid fa-camera"></i>
           </div>
           <div>
             <h3 style="font-size: 1.6rem; margin-bottom: 15px;">التقارير المصوّرة والتوثيق</h3>
             <p style="color: var(--text-light); line-height: 1.8; font-size: 1.05rem; max-width: 600px;">حوّل أنشطة مدرستك وفعالياتها إلى تقارير PDF احترافية توثق جهودك بضغطة زر. يوفر النظام قوالب جاهزة تدمج الصور والنصوص والعناوين بتنسيق رسمي مبهر، جاهز للطباعة أو الإرسال الفوري.</p>
             <div style="margin-top: 25px; display: flex; gap: 12px; flex-wrap:wrap;">
                <span style="font-size: 0.85rem; background: #f1f5f9; padding: 8px 16px; border-radius: 20px; color: var(--text-secondary); font-weight:600;"><i class="fa-solid fa-layer-group" style="margin-left:5px;"></i>قوالب جاهزة</span>
                <span style="font-size: 0.85rem; background: #f1f5f9; padding: 8px 16px; border-radius: 20px; color: var(--text-secondary); font-weight:600;"><i class="fa-solid fa-print" style="margin-left:5px;"></i>طباعة فورية</span>
                <span style="font-size: 0.85rem; background: #f1f5f9; padding: 8px 16px; border-radius: 20px; color: var(--text-secondary); font-weight:600;"><i class="fa-solid fa-box-archive" style="margin-left:5px;"></i>أرشفة تلقائية</span>
             </div>
           </div>
        </div>

        <!-- Feature 2: Tickets (Tall) -->
        <div class="glass-card feature-card" style="grid-row: span 2; background: linear-gradient(135deg, #1e293b, #0f172a); color: white; padding: 40px; display:flex; flex-direction:column; justify-content:space-between;">
           <div>
            <div class="icon-box" style="width: 70px; height: 70px; background: rgba(255,255,255,0.1); color: white; border-radius: 20px; font-size: 2rem; display: grid; place-items: center; margin-bottom: 30px; box-shadow: var(--shadow-md);">
                <i class="fa-solid fa-ticket"></i>
            </div>
            <h3 style="font-size: 1.6rem; margin-bottom: 20px; color: white;">نظام التذاكر والمهام</h3>
            <p style="color: rgba(255,255,255,0.8); line-height: 1.8; margin-bottom: 30px; font-size: 1.05rem;">تخلص من فوضى الواتساب والطلبات الشفهية. استقبل طلبات الصيانة، التقنية، واحتياجات المعلمين عبر مسار إلكتروني منظم يضمن عدم ضياع أي طلب.</p>
           </div>
           
           <ul style="list-style: none; padding: 0; font-size: 1rem; color: rgba(255,255,255,0.9); border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px;">
             <li style="margin-bottom: 12px; display: flex; align-items: center; gap: 12px;"><div style="width:24px; height:24px; background:var(--brand); border-radius:50%; display:grid; place-items:center; font-size:0.7rem;"><i class="fa-solid fa-check"></i></div> إسناد المهام للموظفين</li>
             <li style="margin-bottom: 12px; display: flex; align-items: center; gap: 12px;"><div style="width:24px; height:24px; background:var(--brand); border-radius:50%; display:grid; place-items:center; font-size:0.7rem;"><i class="fa-solid fa-check"></i></div> تتبع حالة الطلب</li>
             <li style="margin-bottom: 0px; display: flex; align-items: center; gap: 12px;"><div style="width:24px; height:24px; background:var(--brand); border-radius:50%; display:grid; place-items:center; font-size:0.7rem;"><i class="fa-solid fa-check"></i></div> تقارير إغلاق</li>
           </ul>
        </div>

        <!-- Feature 3: Achievements -->
        <div class="glass-card feature-card" style="background: white; padding: 35px; border-bottom: 4px solid var(--accent);">
           <div class="icon-box" style="width: 60px; height: 60px; background: #fff7ed; color: var(--accent); border-radius: 16px; font-size: 1.6rem; display: grid; place-items: center; margin-bottom: 25px;">
             <i class="fa-solid fa-wand-magic-sparkles"></i>
           </div>
           <h3 style="font-size: 1.3rem; margin-bottom: 15px;">ملفات الإنجاز الذكية</h3>
           <p style="font-size: 1rem; color: var(--text-light); line-height: 1.7;">بناء تلقائي لملفات إنجاز المعلمين والإداريين من خلال نشاطهم وتقاريرهم في النظام. لا حاجة للجمع اليدوي، الملف يبني نفسه بنفسه طوال العام.</p>
        </div>

         <!-- Feature 4: Circulars -->
         <div class="glass-card feature-card" style="background: white; padding: 35px; border-bottom: 4px solid #ef4444;">
            <div class="icon-box" style="width: 60px; height: 60px; background: #fef2f2; color: #ef4444; border-radius: 16px; font-size: 1.6rem; display: grid; place-items: center; margin-bottom: 25px;">
              <i class="fa-solid fa-file-signature"></i>
            </div>
            <h3 style="font-size: 1.3rem; margin-bottom: 15px;">التعاميم والتوقيع</h3>
            <p style="font-size: 1rem; color: var(--text-light); line-height: 1.7;">أرسل التعاميم إلكترونياً لجميع المنسوبين واجمع التواقيع في ثوانٍ. لوحة متابعة تظهر من شاهد ومن وقّع ومن تأخر.</p>
         </div>

        <!-- Feature 5: Identity -->
        <div class="glass-card feature-card" style="background: white; padding: 35px; border-bottom: 4px solid #0ea5e9;">
           <div class="icon-box" style="width: 60px; height: 60px; background: #f0f9ff; color: #0ea5e9; border-radius: 16px; font-size: 1.6rem; display: grid; place-items: center; margin-bottom: 25px;">
             <i class="fa-solid fa-fingerprint"></i>
           </div>
           <h3 style="font-size: 1.3rem; margin-bottom: 15px;">هوية بصرية موحّدة</h3>
           <p style="font-size: 1rem; color: var(--text-light); line-height: 1.7;">جميع المخرجات من تقارير وتعاميم تلتزم آلياً بالهوية البصرية الرسمية لوزارة التعليم. لا تشغل بالك بالتنسيق والألوان.</p>
        </div>

        <!-- Feature 6: Sharing -->
        <div class="glass-card feature-card" style="background: white; padding: 35px; border-bottom: 4px solid #8b5cf6;">
            <div class="icon-box" style="width: 60px; height: 60px; background: #f5f3ff; color: #8b5cf6; border-radius: 16px; font-size: 1.6rem; display: grid; place-items: center; margin-bottom: 25px;">
              <i class="fa-solid fa-share-nodes"></i>
            </div>
            <h3 style="font-size: 1.3rem; margin-bottom: 15px;">مشاركة ذكية وآمنة</h3>
            <p style="font-size: 1rem; color: var(--text-light); line-height: 1.7;">روابط مشاركة للملفات والتقارير بصلاحية محددة الزمن (Expire Links). بديل عصري وآمن لرموز الاستجابة (QR).</p>
         </div>

         <!-- Feature 7: Admin Control (Span 2) -->
         <div class="glass-card feature-card" style="grid-column: span 2; background: white; padding: 40px; display: flex; align-items: center; gap: 40px; flex-wrap: wrap;">
             <div style="flex: 1; min-width: 300px;">
                <h3 style="font-size: 1.5rem; margin-bottom: 15px; color: var(--text-main);">لوحة قيادة المدير والمشرف</h3>
                <p style="color: var(--text-light); margin-bottom: 20px; font-size: 1.05rem; line-height: 1.8;">نظرة شمولية على أداء المدرسة في شاشة واحدة. تابع إحصائيات التقارير المنجزة، تفاعل المعلمين، وحالة التذاكر المفتوحة والمغلقة.</p>
                
                <div style="display: flex; gap: 20px;">
                     <div class="stat-mini" style="display:flex; align-items:center; gap:10px;">
                        <div style="width:40px; height:40px; border-radius:10px; background:var(--brand-light); color:var(--brand); display:grid; place-items:center; font-weight:800;">%95</div>
                        <div style="font-size: 0.9rem; color: var(--text-main); font-weight:700;">كفاءة الإنجاز</div>
                     </div>
                     <div class="stat-mini" style="display:flex; align-items:center; gap:10px;">
                        <div style="width:40px; height:40px; border-radius:10px; background:#f0fdf4; color:#16a34a; display:grid; place-items:center; font-weight:800;">100</div>
                        <div style="font-size: 0.9rem; color: var(--text-main); font-weight:700;">أرشفة آمنة</div>
                     </div>
                </div>
             </div>
             <div style="width: 250px; height: 160px; background: #f8fafc; border-radius: 20px; border: 2px dashed #cbd5e1; display: flex; flex-direction:column; align-items:center; justify-content: center; color: #94a3b8; gap:10px;">
                 <i class="fa-solid fa-chart-pie" style="font-size: 3rem;"></i>
                 <span style="font-weight:600;">لوحة المعلومات</span>
             </div>
         </div>

      </div>

    </div>
  </section>

  <!-- ================= HOW IT WORKS ================= -->
  <section id="how" style="background: white;">
    <div class="container">
      <div class="section-header">
        <h2>بساطة في الاستخدام</h2>
        <p>لا تحتاج لدورات تدريبية. المنصة مصممة لتكون بديهية.</p>
      </div>

      <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); text-align: center; gap: 40px;">
        <div>
          <div style="width: 80px; height: 80px; background: var(--brand); color: white; border-radius: 24px; font-size: 2rem; font-weight: 800; display: grid; place-items: center; margin: 0 auto 24px; box-shadow: var(--shadow-lg);">1</div>
          <h3>سجّل مدرستك</h3>
          <p>أنشئ حساباً للمدرسة وأضف المعلمين بضغطة زر وتفعيل فوري.</p>
        </div>

        <div>
           <div style="width: 80px; height: 80px; background: var(--surface); color: var(--text-main); border-radius: 24px; font-size: 2rem; font-weight: 800; display: grid; place-items: center; margin: 0 auto 24px;">2</div>
          <h3>الجميع يوثّق</h3>
          <p>المعلمون يرفعون تقاريرهم وتذاكرهم من هواتفهم مباشرة بدون تعقيد.</p>
        </div>

        <div>
          <div style="width: 80px; height: 80px; background: var(--surface); color: var(--text-main); border-radius: 24px; font-size: 2rem; font-weight: 800; display: grid; place-items: center; margin: 0 auto 24px;">3</div>
          <h3>أرشف واطبع</h3>
          <p>لوحة تحكم المدير تظهر كل شيء. راقب، قيّم، واطبع الأرشيف بضغطة زر.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ================= STATS ================= -->
  <section>
    <div class="container">
      <div class="glass-card" style="background: linear-gradient(120deg, var(--brand-dark), var(--brand)); padding: 80px 40px; color: white; text-align: center; border:none; box-shadow: var(--shadow-xl);">
        <h2 style="color: white; margin-bottom: 50px;">أرقام نفخر بها</h2>
        <div class="flex" style="flex-wrap: wrap; gap: 60px; justify-content: center;">
          <div>
            <div style="font-size: 4rem; font-weight: 900; line-height: 1;">+20K</div>
            <div style="opacity: 0.8; font-weight: 700; font-size: 1.2rem;">تقرير مُصدر</div>
          </div>
          <div>
            <div style="font-size: 4rem; font-weight: 900; line-height: 1;">99%</div>
            <div style="opacity: 0.8; font-weight: 700; font-size: 1.2rem;">توفير الورق</div>
          </div>
          <div>
            <div style="font-size: 4rem; font-weight: 900; line-height: 1;">100%</div>
            <div style="opacity: 0.8; font-weight: 700; font-size: 1.2rem;">أمان البيانات</div>
          </div>
        </div>  
      </div>
    </div>
  </section>

  <!-- ================= PRICING ================= -->
  <section id="pricing">
    <div class="container">
      <div class="section-header">
        <h2>باقات تناسب الجميع</h2>
        <p>استثمر في راحة بالك مع باقات مرنة وشاملة.</p>
      </div>

      <div id="pricing-container">
        <!-- Toggle -->
        <div class="flex justify-center" style="margin-bottom: 50px;">
          <div class="pricing-toggle" role="tablist" aria-label="مدة الاشتراك">
            <button type="button" class="btn-toggle is-active" data-period="6m" role="tab" aria-selected="true">
              6 أشهر
            </button>
            <button type="button" class="btn-toggle" data-period="1y" role="tab" aria-selected="false">
              سنوي
              <span class="toggle-badge">توفير</span>
            </button>
          </div>
        </div>

        <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; align-items: start;">

          <!-- Free Plan -->
          <div class="glass-card pricing-card">
            <h3 style="color: var(--text-secondary);">المجانية</h3>
            <div class="price-tag">0 <span>ريال</span></div>
            <p>تجربة 14 يوم • حتى 5 معلمين</p>
            <ul class="features-list">
              <li><i class="fa-solid fa-check"></i> تجربة كاملة للمنصة</li>
              <li><i class="fa-solid fa-check"></i> صلاحية 14 يوم</li>
            </ul>
            <button class="btn btn-outline js-open-order" data-plan-title="المجانية" data-plan-price="0 ريال" data-plan-duration="14 يوم" style="width: 100%; margin-top: 30px;">
              تجربة الآن
            </button>
          </div>

          <!-- 25 Teachers -->
          <div class="glass-card pricing-card" data-plan="25">
             <h3>باقة 25 معلم</h3>
             <div class="price-block p-6m">
               <div class="price-tag">699 <span>ريال</span></div>
               <p>لمدة 6 أشهر</p>
             </div>
             <div class="price-block p-1y" style="display:none">
                <div class="price-tag">1,299 <span>ريال</span></div>
                <p>لمدة سنة كاملة (توفير 99 ريال)</p>
             </div>
             <ul class="features-list">
               <li><i class="fa-solid fa-check"></i> جميع مميزات المنصة شاملة</li>
               <li><i class="fa-solid fa-check"></i> تقارير وتذاكر غير محدودة</li>
               <li><i class="fa-solid fa-check"></i> ملفات إنجاز وتعاميم</li>
               <li><i class="fa-solid fa-check"></i> دعم فني مستمر</li>
             </ul>
             <button class="btn btn-outline js-select-plan" style="width: 100%; margin-top: 30px;">اطلب الباقة</button>
          </div>

          <!-- 50 Teachers (Featured) -->
          <div class="glass-card pricing-card featured" data-plan="50">
            <div style="background: var(--brand); color: white; padding: 5px 15px; position: absolute; top: 20px; right: 20px; border-radius: 20px; font-size: 0.8rem; font-weight: 800;">الأكثر طلباً</div>
            <h3 style="color: var(--brand);">باقة 50 معلم</h3>
            
            <div class="price-block p-6m">
              <div class="price-tag" style="color: var(--brand);">999 <span>ريال</span></div>
              <p>لمدة 6 أشهر</p>
            </div>
            <div class="price-block p-1y" style="display:none">
               <div class="price-tag" style="color: var(--brand);">1,899 <span>ريال</span></div>
               <p>لمدة سنة كاملة (توفير 99 ريال)</p>
            </div>

             <ul class="features-list">
               <li><i class="fa-solid fa-check"></i> جميع مميزات المنصة شاملة</li>
               <li><i class="fa-solid fa-check"></i> تقارير وتذاكر غير محدودة</li>
               <li><i class="fa-solid fa-check"></i> ملفات إنجاز وتعاميم</li>
               <li><i class="fa-solid fa-check"></i> دعم فني مستمر</li>
             </ul>
            <button class="btn btn-primary js-select-plan" style="width: 100%; margin-top: 30px;">اطلب الباقة</button>
          </div>
          
           <!-- 75 Teachers -->
           <div class="glass-card pricing-card" data-plan="75">
            <h3>باقة 75 معلم</h3>
            <div class="price-block p-6m">
              <div class="price-tag">1,299 <span>ريال</span></div>
              <p>لمدة 6 أشهر</p>
            </div>
            <div class="price-block p-1y" style="display:none">
               <div class="price-tag">2,399 <span>ريال</span></div>
               <p>لمدة سنة كاملة</p>
            </div>
             <ul class="features-list">
               <li><i class="fa-solid fa-check"></i> جميع مميزات المنصة شاملة</li>
               <li><i class="fa-solid fa-check"></i> تقارير وتذاكر غير محدودة</li>
               <li><i class="fa-solid fa-check"></i> ملفات إنجاز وتعاميم</li>
               <li><i class="fa-solid fa-check"></i> دعم فني مستمر</li>
             </ul>
            <button class="btn btn-outline js-select-plan" style="width: 100%; margin-top: 30px;">اطلب الباقة</button>
         </div>

         <!-- 100 Teachers -->
         <div class="glass-card pricing-card" data-plan="100">
            <h3>باقة 100 معلم</h3>
            <div class="price-block p-6m">
              <div class="price-tag">1,599 <span>ريال</span></div>
              <p>لمدة 6 أشهر</p>
            </div>
            <div class="price-block p-1y" style="display:none">
               <div class="price-tag">2,899 <span>ريال</span></div>
               <p>لمدة سنة كاملة</p>
            </div>
             <ul class="features-list">
               <li><i class="fa-solid fa-check"></i> جميع مميزات المنصة شاملة</li>
               <li><i class="fa-solid fa-check"></i> تقارير وتذاكر غير محدودة</li>
               <li><i class="fa-solid fa-check"></i> ملفات إنجاز وتعاميم</li>
               <li><i class="fa-solid fa-check"></i> دعم فني مستمر</li>
             </ul>
            <button class="btn btn-outline js-select-plan" style="width: 100%; margin-top: 30px;">اطلب الباقة</button>
         </div>

        </div>
      </div>
    </div>
  </section>

  <!-- ================= FOOTER & CTA ================= -->
  <footer>
    <div class="container">
      <div class="glass-card" style="background: var(--brand); border: none; padding: 60px; text-align: center; margin-bottom: 80px; position: relative;">
        <div style="position: absolute; top:0; left:0; width:100%; height:100%; background: linear-gradient(45deg, transparent 40%, rgba(255,255,255,0.1) 50%, transparent 60%); pointer-events:none;"></div>
        <h2 style="color: white; margin-bottom: 20px;">جاهز للتغيير؟</h2>
        <p style="color: rgba(255,255,255,0.9); font-size: 1.2rem; margin-bottom: 40px;">انضم لمئات المدارس التي اختارت التوثيق الذكي.</p>
        <div class="flex" style="justify-content: center; gap: 20px; flex-wrap: wrap;">
          <a href="https://wa.me/966537720207" class="btn btn-glass" style="background: white; color: var(--brand);">
            <i class="fa-brands fa-whatsapp"></i> تواصل واتساب
          </a>
          <a href="{% url 'reports:login' %}" class="btn btn-glass">
            دخول النظام
          </a>
        </div>
      </div>

      <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 60px; margin-bottom: 60px;">
        <div style="text-align: right;">
          <div class="logo" style="margin-bottom: 20px; color: white;">
            <img src="{% static 'img/logo1.png' %}" alt="Logo"> <span>منصة توثيق</span>
          </div>
          <p style="color: #94a3b8;">الحل الرقمي المتكامل لإدارة المدارس السعودية. موثّق، آمن، وسهل الاستخدام.</p>
        </div>
        
        <div>
          <h4 style="color: white; margin-bottom: 25px;">روابط سريعة</h4>
          <ul style="display: grid; gap: 15px;">
            <li><a href="#features">المميزات</a></li>
            <li><a href="#how">كيف نعمل</a></li>
            <li><a href="#pricing">الأسعار</a></li>
          </ul>
        </div>
        
        <div>
          <h4 style="color: white; margin-bottom: 25px;">تواصل معنا</h4>
          <ul style="display: grid; gap: 15px; color: #94a3b8;">
            <li><i class="fa-brands fa-whatsapp" style="margin-left: 10px;"></i> 0537720207</li>
            <li><i class="fa-regular fa-envelope" style="margin-left: 10px;"></i> mansour9999@hotmail.com</li>
            <li><i class="fa-solid fa-location-dot" style="margin-left: 10px;"></i> السعودية - الرياض</li>
          </ul>
        </div>
      </div>

      <div style="border-top: 1px solid #1e293b; padding-top: 30px; text-align: center; color: #64748b; font-size: 0.9rem;">
        &copy; {% now "Y" %} منصة توثيق. جميع الحقوق محفوظة.
      </div>
    </div>
  </footer>

  <script nonce="{{ CSP_NONCE }}">
    // --- Navbar Scroll ---
    window.addEventListener('scroll', function() {
      const nav = document.getElementById('navbar');
      if(window.scrollY > 50) nav.classList.add('scrolled');
      else nav.classList.remove('scrolled');
    });

    // --- Mobile Menu ---
    const mobileBtn = document.getElementById('mobileToggle');
    const mobileMenu = document.getElementById('mobileMenu');
    const closeMobile = document.getElementById('closeMobile');
    const mobileLinks = document.querySelectorAll('.mobile-link');

    function openMenu() {
      if (!mobileMenu) return;
      mobileMenu.classList.add('open');
      mobileMenu.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
    }

    function closeMenu() {
      if (!mobileMenu) return;
      mobileMenu.classList.remove('open');
      mobileMenu.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
    }

    if(mobileBtn) mobileBtn.addEventListener('click', openMenu);
    if(closeMobile) closeMobile.addEventListener('click', closeMenu);
    mobileLinks.forEach(l => l.addEventListener('click', closeMenu));

    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape') closeMenu();
    });

    // --- Pricing Period Toggle ---
    let currentPeriod = '6m';

    function togglePeriod(period) {
      currentPeriod = period;

      document.querySelectorAll('.btn-toggle').forEach(btn => {
        const isActive = btn.dataset.period === period;
        btn.classList.toggle('is-active', isActive);
        btn.setAttribute('aria-selected', isActive ? 'true' : 'false');
      });

      document.querySelectorAll('.pricing-card').forEach(card => {
        const p6m = card.querySelector('.p-6m');
        const p1y = card.querySelector('.p-1y');
        if (p6m && p1y) {
          if (period === '6m') { p6m.style.display = 'block'; p1y.style.display = 'none'; }
          else { p6m.style.display = 'none'; p1y.style.display = 'block'; }
        }
      });
    }

    function getOrderModal() {
      return document.getElementById('orderModal');
    }
    let selectedPlanData = {};

    function closeOrderModal() {
      const orderModal = getOrderModal();
      if(orderModal) orderModal.classList.remove('open');
    }

    function updateModalInfo() {
      const infoDiv = document.getElementById('selectedPlanInfo');
      if(infoDiv) {
        infoDiv.innerHTML = `
          <div class="plan-ticket">
            <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px dashed rgba(37,99,235,0.2); padding-bottom:12px; margin-bottom:12px;">
              <div style="font-weight:800; color:var(--text-main); display:flex; align-items:center; gap:8px;">
                 <i class="fa-solid fa-crown" style="color:var(--accent);"></i> ${selectedPlanData.title}
              </div>
              <div style="font-size:0.8rem; font-weight:700; color:var(--text-secondary); background:var(--surface); padding:2px 10px; border-radius:20px;">
                ${selectedPlanData.duration}
              </div>
            </div>
            <div style="display:flex; justify-content:space-between; align-items:center;">
              <span style="font-size:0.9rem; color:var(--text-secondary);">إجمالي الباقة</span>
              <span style="font-weight:900; color:var(--brand); font-size:1.1rem;">${selectedPlanData.price}</span>
            </div>
          </div>
        `;
      }
    }

    function openOrderModalDirect(title, price, duration) {
      selectedPlanData = { title, price, duration };
      updateModalInfo();
      const orderModal = getOrderModal();
      if(orderModal) orderModal.classList.add('open');
    }

    function selectPlan(btn) {
      if (!btn) return;
      let card = btn.closest('.pricing-card');
      if (!card) return;

      let title = card.querySelector('h3') ? card.querySelector('h3').innerText : 'باقة';

      let price = '';
      let duration = '';

      const p6m = card.querySelector('.p-6m');
      const p1y = card.querySelector('.p-1y');

      if (p6m && getComputedStyle(p6m).display !== 'none') {
        price = p6m.querySelector('div').innerText;
        duration = '6 أشهر';
      } else if (p1y) {
        price = p1y.querySelector('div').innerText;
        duration = 'سنة كاملة';
      } else {
        price = 'مجاناً';
        duration = '14 يوم';
      }

      openOrderModalDirect(title, price, duration);
    }

    function submitOrder(e) {
      e.preventDefault();

      const school = document.getElementById('ord_school').value;
      const stageSelect = document.getElementById('ord_stage');
      const stage = stageSelect.options[stageSelect.selectedIndex].text;

      const genderSelect = document.getElementById('ord_gender');
      const gender = genderSelect.options[genderSelect.selectedIndex].text;

      const city = document.getElementById('ord_city').value;
      const manager = document.getElementById('ord_manager').value;
      const phone = document.getElementById('ord_phone').value;

      let waBase = "https://wa.me/966537720207?text=";
      let msg = `*طلب اشتراك جديد - منصة توثيق*%0A%0A`;
      msg += `🏫 *المدرسة:* ${school}%0A`;
      msg += `🎓 *المرحلة:* ${stage}%0A`;
      msg += `🚻 *النوع:* ${gender}%0A`;
      msg += `📍 *المدينة:* ${city}%0A`;
      msg += `👤 *المدير:* ${manager}%0A`;
      msg += `📱 *الجوال:* ${phone}%0A`;
      msg += `------------------%0A`;
      msg += `📦 *الباقة:* ${selectedPlanData.title}%0A`;
      msg += `⏳ *المدة:* ${selectedPlanData.duration}%0A`;
      msg += `💰 *السعر:* ${selectedPlanData.price}%0A%0A`;
      msg += `أرجو إتمام إجراءات الاشتراك.`;

      window.open(waBase + msg, '_blank', 'noopener');
      closeOrderModal();
    }

    document.addEventListener('DOMContentLoaded', function () {
      togglePeriod(currentPeriod);

      document.querySelectorAll('.btn-toggle').forEach(btn => {
        btn.addEventListener('click', function () {
          togglePeriod(btn.dataset.period);
        });
      });

      document.querySelectorAll('.js-open-order').forEach(btn => {
        btn.addEventListener('click', function () {
          openOrderModalDirect(
            btn.getAttribute('data-plan-title') || 'باقة',
            btn.getAttribute('data-plan-price') || '',
            btn.getAttribute('data-plan-duration') || ''
          );
        });
      });

      document.querySelectorAll('.js-select-plan').forEach(btn => {
        btn.addEventListener('click', function () {
          selectPlan(btn);
        });
      });

      const modalCloseBtn = document.querySelector('#orderModal .modal-close');
      if (modalCloseBtn) modalCloseBtn.addEventListener('click', closeOrderModal);

      const orderModal = getOrderModal();
      if (orderModal) {
        orderModal.addEventListener('click', function (e) {
          if (e.target === orderModal) closeOrderModal();
        });
      }

      document.addEventListener('keydown', function (e) {
        if (e.key === 'Escape') closeOrderModal();
      });

      const form = document.getElementById('orderForm');
      if (form) form.addEventListener('submit', submitOrder);
    });

    // --- PWA ---
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js').catch(function(err) {});
      });
    }
  </script>

  <!-- Order Modal Markup -->
  <div id="orderModal" class="modal-overlay">
    <div class="modal-content glass-card">
      <button type="button" class="modal-close" aria-label="إغلاق"><i class="fa-solid fa-xmark"></i></button>
      
      <div class="luxury-modal-header">
        <h3>طلب الاشتراك</h3>
        <p>ابدأ رحلة التوثيق الرقمي لمدرستك الآن</p>
      </div>

      <div id="selectedPlanInfo" style="margin-bottom:20px;"></div>

      <form id="orderForm">
        <div class="luxury-input-group">
          <label>اسم المدرسة</label>
          <div class="luxury-input-wrapper">
            <input type="text" id="ord_school" class="luxury-input" required placeholder="مثال: مدرسة المستقبل الأهلية">
            <i class="fa-solid fa-school luxury-icon"></i>
          </div>
        </div>

        <div class="flex gap-2">
          <div class="luxury-input-group flex-1">
            <label>المرحلة</label>
            <div class="luxury-input-wrapper">
              <select id="ord_stage" class="luxury-input" required>
                <option value="primary">ابتدائي</option>
                <option value="middle">متوسط</option>
                <option value="high">ثانوي</option>
                <option value="kg">رياض أطفال</option>
              </select>
              <i class="fa-solid fa-layer-group luxury-icon"></i>
            </div>
          </div>
          <div class="luxury-input-group flex-1">
            <label>النوع</label>
            <div class="luxury-input-wrapper">
              <select id="ord_gender" class="luxury-input" required>
                <option value="boys">بنين</option>
                <option value="girls">بنات</option>
              </select>
              <i class="fa-solid fa-venus-mars luxury-icon"></i>
            </div>
          </div>
        </div>

        <div class="flex gap-2">
          <div class="luxury-input-group flex-1">
            <label>المدينة</label>
            <div class="luxury-input-wrapper">
              <input type="text" id="ord_city" class="luxury-input" required placeholder="الرياض...">
              <i class="fa-solid fa-location-dot luxury-icon"></i>
            </div>
          </div>
          <div class="luxury-input-group flex-1">
            <label>رقم الجوال</label>
            <div class="luxury-input-wrapper">
              <input type="tel" id="ord_phone" class="luxury-input" required placeholder="05xxxxxxxx" pattern="05[0-9]{8}" title="رقم جوال سعودي يبدأ بـ 05">
              <i class="fa-brands fa-whatsapp luxury-icon"></i>
            </div>
          </div>
        </div>

        <div class="luxury-input-group">
          <label>اسم المدير/ة</label>
          <div class="luxury-input-wrapper">
            <input type="text" id="ord_manager" class="luxury-input" required placeholder="الاسم الثلاثي">
            <i class="fa-solid fa-user-tie luxury-icon"></i>
          </div>
        </div>

        <button type="submit" class="luxury-submit-btn">
          <span>تأكيد الطلب عبر واتساب</span>
          <i class="fa-brands fa-whatsapp fa-lg"></i>
        </button>
      </form>
    </div>
  </div>

</body>
</html>
