/* =========================================================
   app.css — نظام تقارير (RTL) — نسخة موحّدة احترافية
   أهداف: توحيد الهوية، منع التكرار، دعم جوال/ديسكتوب/TV
========================================================= */

/* ========== 1) Design Tokens ========== */
:root{
  /* Typography */
  --font: "Tajawal", system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", sans-serif;

  /* Brand */
  --brand: #2563eb;       /* Blue */
  --brand-700: #1d4ed8;
  --brand-ink: #1e3a8a;
  --brand-ghost: rgba(37,99,235,.10);

  --accent: #059669;      /* Green */
  --danger: #dc2626;
  --warning: #f59e0b;
  --info: #0ea5e9;

  /* Neutrals */
  --ink: #0f172a;
  --ink-soft: #1f2937;
  --muted: #64748b;
  --bg: #f5f7fb;
  --card: #ffffff;
  --line: #e2e8f0;
  --line-2: #eef2f7;

  /* Radii / Shadows */
  --radius-sm: 10px;
  --radius: 14px;
  --radius-lg: 18px;

  --shadow-sm: 0 4px 14px rgba(2,6,23,.06);
  --shadow:    0 10px 28px rgba(2,6,23,.10);

  /* Focus ring */
  --ring: 0 0 0 3px rgba(37,99,235,.22);

  /* Tap target */
  --tap: 48px;

  /* Safe areas */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
}

/* Optional: Dark mode if you later set data-theme="dark" on html */
html[data-theme="dark"]{
  --bg:#050816;
  --card: rgba(15,23,42,.86);
  --line: rgba(148,163,184,.16);
  --line-2: rgba(148,163,184,.10);
  --ink:#e5e7eb;
  --ink-soft:#e2e8f0;
  --muted: rgba(226,232,240,.70);
  --shadow-sm: 0 8px 26px rgba(0,0,0,.35);
  --shadow:    0 16px 48px rgba(0,0,0,.45);
}

/* ========== 2) Reset / Base ========== */
*{box-sizing:border-box}
html,body{margin:0;padding:0;height:100%}
body{
  font-family: var(--font);
  background: var(--bg);
  color: var(--ink);
  line-height: 1.7;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}
img{max-width:100%;display:block}
a{color:inherit}
button,input,select,textarea{font:inherit}
::selection{background: rgba(37,99,235,.18)}

:focus-visible{outline:none; box-shadow: var(--ring); border-color: rgba(37,99,235,.35)}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  *{animation:none!important;transition:none!important;scroll-behavior:auto!important}
}

/* ========== 3) Layout Helpers ========== */
.container{
  width:100%;
  max-width:1240px;
  margin-inline:auto;
  padding: 0 clamp(12px, 3vw, 24px);
}

/* page layout (keeps footer at bottom) */
body.page{
  min-height:100dvh;
  display:flex;
  flex-direction:column;
}
.page-main{
  flex: 1 0 auto;
  padding-block: clamp(12px, 2.5vw, 24px);
  animation: fadeUp .45s ease both;
}
@keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}

.row-between{display:flex;align-items:center;justify-content:space-between;gap:10px}

/* ========== 4) Header / Nav (basic legacy support) ========== */
.site-header{
  background: rgba(255,255,255,.86);
  border-bottom: 1px solid var(--line-2);
  position: sticky;
  top: 0;
  z-index: 20;
  backdrop-filter: blur(10px) saturate(180%);
}
@supports not (backdrop-filter: blur(10px)){
  .site-header{background: #fff}
}

.brand{
  font-weight: 900;
  color: var(--ink);
  display:flex;
  align-items:center;
  gap:10px;
  text-decoration:none;
}
.brand img{
  width:40px;height:40px;
  object-fit:contain;
  border-radius: 10px;
}
.nav .link{
  margin-inline: 6px;
  color: var(--brand);
  text-decoration:none;
  font-weight: 800;
  padding: 8px 10px;
  border-radius: 12px;
  transition: transform .12s ease, background .12s ease;
}
.nav .link:hover{background: var(--brand-ghost); transform: translateY(-1px)}

/* ========== 5) Cards / Sections ========== */
.card{
  background: var(--card);
  border: 1px solid var(--line-2);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: 16px;
}
.section-title{
  margin: 4px 0 12px;
  font-size: 1.08rem;
  font-weight: 900;
  color: var(--ink);
}
.muted{color: var(--muted)}

/* ========== 6) Buttons ========== */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  min-height: var(--tap);
  padding: 10px 14px;
  border-radius: 12px;
  border: 1px solid transparent;
  cursor:pointer;
  font-weight: 900;
  text-decoration:none;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
  user-select:none;
}
.btn:hover{transform: translateY(-1px); box-shadow: 0 10px 26px rgba(2,6,23,.10)}
.btn:active{transform: translateY(0)}

.btn-primary{background: linear-gradient(135deg, var(--brand), #4f46e5); color:#fff; border-color: rgba(37,99,235,.35)}
.btn-primary:hover{background: linear-gradient(135deg, var(--brand-700), #4338ca)}

.btn-accent{background: linear-gradient(135deg, var(--accent), #22c55e); color:#fff; border-color: rgba(5,150,105,.30)}
.btn-accent:hover{filter: brightness(.98)}

.btn-danger{background: linear-gradient(135deg, var(--danger), #ef4444); color:#fff; border-color: rgba(220,38,38,.30)}
.btn-danger:hover{filter: brightness(.98)}

.btn-outline{background: transparent; color: var(--brand); border-color: rgba(37,99,235,.25)}
.btn-outline:hover{background: var(--brand-ghost)}

.btn-block{width:100%}

/* ========== 7) Forms / Inputs ========== */
.form-grid{display:grid;grid-template-columns:1fr;gap:12px}
.input, .textarea, .select,
input[type="date"], input[type="number"], input[type="text"], input[type="file"], input[type="password"], input[type="search"], textarea, select{
  width:100%;
  padding: 11px 12px;
  border: 1px solid rgba(15,23,42,.14);
  border-radius: 12px;
  background: var(--card);
  color: var(--ink);
  box-shadow: 0 1px 0 rgba(2,6,23,.02);
  transition: box-shadow .12s ease, border-color .12s ease, background .12s ease;
}
textarea, .textarea{min-height:110px;resize:vertical}
input::placeholder, textarea::placeholder{color: rgba(100,116,139,.85)}
input:focus, textarea:focus, select:focus{outline:none; box-shadow: var(--ring); border-color: rgba(37,99,235,.35)}

.filters{display:grid;grid-template-columns:1fr;gap:10px;margin: 8px 0 12px}
.filters .actions{display:flex;gap:8px;flex-wrap:wrap}

/* ========== 8) Tables / Cards responsive list ========== */
.table-wrap{display:none;overflow:auto}
table{width:100%;border-collapse:collapse;background:transparent}
thead th{
  background: rgba(248,250,252,.9);
  color: var(--muted);
  font-weight: 900;
}
th, td{
  padding: 12px 10px;
  border-bottom: 1px solid var(--line-2);
  text-align:center;
  vertical-align:middle;
}
tbody tr:hover td{background: rgba(37,99,235,.03)}

.cards{display:grid;grid-template-columns:1fr;gap:12px}
.card-row{display:grid;grid-template-columns:1fr 1fr;gap:6px}
.card-row span{color: var(--muted);font-size:.92rem}
.card-row b{color: var(--ink)}

/* ========== 9) Images / Thumbs ========== */
.imgs{display:flex;gap:8px;flex-wrap:wrap}
.imgs img{
  width:100%;
  max-width:110px;
  height:auto;
  border-radius: 12px;
  border: 1px solid var(--line-2);
  box-shadow: 0 8px 18px rgba(2,6,23,.06);
}

/* ========== 10) Pagination ========== */
.pgn{display:flex;gap:8px;justify-content:center;margin-top:14px;flex-wrap:wrap}
.pgn a, .pgn span{
  padding: 9px 12px;
  border: 1px solid rgba(15,23,42,.14);
  border-radius: 12px;
  text-decoration:none;
  color: var(--ink);
  background: var(--card);
  font-weight: 900;
}
.pgn .active{
  background: var(--brand);
  color:#fff;
  border-color: var(--brand);
}

/* ========== 11) Django Messages (legacy block) ========== */
/* إذا استخدمت Toasts في base.html، ممكن تتركها أو تخففها. */
.messages{margin-block: 12px}
.msg{
  padding: 10px 12px;
  border-radius: 12px;
  background: rgba(239,246,255,.92);
  border: 1px solid #bfdbfe;
  box-shadow: var(--shadow-sm);
}
.msg.success{background: rgba(240,255,246,.92); border-color:#c8f3d6; color:#064e3b}
.msg.error{background: rgba(255,240,240,.92); border-color:#ffd4d4; color:#7f1d1d}
.msg.warning{background: rgba(255,251,235,.92); border-color:#fed7aa; color:#7c2d12}
.msg.info{background: rgba(239,246,255,.92); border-color:#bfdbfe; color:#0b1b3a}

/* ========== 12) Footer (professional) ========== */
.site-footer{
  margin-top:auto;
  color:#e7eefc;
  background: linear-gradient(180deg,#0b1220 0%, #0e1a2f 100%);
  position:relative;
}
.site-footer::before{
  content:"";
  position:absolute;
  inset:0 0 auto 0;
  height:3px;
  background: linear-gradient(90deg, var(--brand), var(--accent));
  opacity:.95;
}
.footer-wrap{
  display:grid;
  gap:12px;
  align-items:center;
  padding: 18px 0;
}
.f-brand{display:flex;align-items:center;gap:12px}
.f-brand img{
  width:44px;height:44px;border-radius:12px;padding:8px;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.12);
}
.f-title{font-weight:900}
.f-sub{font-size:.92rem;opacity:.88}
.f-nav{display:flex;flex-wrap:wrap;gap:10px}
.f-nav a{
  color:#d7e3ff;
  text-decoration:none;
  padding:8px 10px;
  border-radius: 12px;
  font-weight: 900;
}
.f-nav a:hover{background: rgba(255,255,255,.08)}
.f-copy{font-size:.9rem;color:#b6c3df}

/* ========== 13) Responsive ========== */
@media (min-width: 768px){
  .filters{grid-template-columns:repeat(4, 1fr);align-items:end}
  .cards{display:none}
  .table-wrap{display:block}
  .footer-wrap{grid-template-columns:auto 1fr auto}
  .f-copy{text-align:end}
}

/* TV / large screens */
@media (min-width: 1400px){
  body{font-size:18px}
  .container{max-width:1400px}
  th,td{padding:14px 12px}
  .card{padding:18px}
}
